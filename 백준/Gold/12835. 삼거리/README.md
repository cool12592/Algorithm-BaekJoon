# [Gold II] 삼거리 - 12835 

[문제 링크](https://www.acmicpc.net/problem/12835) 

### 성능 요약

메모리: 3736 KB, 시간: 20 ms

### 분류

애드 혹

### 문제 설명

<p style="text-align:center"><img alt="" src="" style="height:189px; width:189px"></p>

<p>개미 나라에 N마리의 개미가 위와 같은 삼거리 위에 있다. 각각의 길의 끝점을 A, B, C이고, 삼거리의 중심은 O이다. 각 삼거리의 길이는 L(길이)로 동일하다.</p>

<p>개미들은 초기 위치와 초기 진행 방향을 가지고 움직인다. 개미들의 속력은 1(길이)/1(초)로 일정하다. 개미들은 다음과 같은 특별한 상황인 경우 규칙에 맞게 진행 방향을 바꾸며, 특별한 상황이 아닌 경우 진행 방향을 유지한다.</p>

<p>규칙 1. 개미들은 서로 다른 개미를 마주칠 경우 (즉, 특정시간에 같은 위치에 있는 경우) 진행 방향을 <strong>자신이 진행하고 있던 방향의 반대방향</strong>으로 바꾼다. 이는 삼거리의 중심을 포함한 어느 삼거리 위에서도 해당된다.</p>

<p>규칙 2. 중심점으로 <strong>특정 한 개미</strong>만 도착하는 경우 개미는 갈림길에서 무조건 <strong>오른쪽 방향</strong>으로 진행 방향을 바꾼다.</p>

<p>위와 같은 규칙으로 움직이다 각각의 길의 끝점인 A, B, C에 도착하는 경우 움직임을 멈춘다. 개미들의 초기 위치와 초기 진행 방향이 주어질 때, 각각의 개미들이 끝점에 도착하기까지 걸리는 <strong>시간의 총 합</strong>과 각각의 끝점(A, B, C)에 도착하는 <strong>개미의 마리 수</strong>를 구하여라.</p>

### 입력 

 <p>첫 줄에 개미의 총 마리 수인 N (1 ≤ N ≤ 50,000)과 삼거리의 길이인 L (2 ≤ L ≤ 1,000,000,000,000)가 주어진다. 다음 줄부터는 각각의 개미의 초기 위치와 진행 방향이 3개씩 N개의 줄에 걸쳐 주어진다.</p>

<p>각각의 개미가 어느 삼거리 쪽 위에 있는지(A or B or C), 삼거리의 중심으로부터 거리 X (1 ≤ X ≤ L-1), 진행방향은 0 or 1로 주어진다. 0은 그 위치에서 삼거리의 중심 방향이고, 1은 위치한 사거리의 끝점 방향이다. N마리의 개미의 위치는 서로 다르다.</p>

### 출력 

 <p>첫 줄에 개미들의 도착하기 까지 걸리는 시간의 총 합을 출력하고, 두 번째 줄에 각각의 끝점(A, B, C)에 도착하는 개미의 마리 수를 출력한다.</p>

